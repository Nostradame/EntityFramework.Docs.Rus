.. include:: _shared/relational-specific-note.txt

Наследование (реляционной базы данных)
==========================================

Наследование в модели EF используется для управления того, как наследование в классах сущностей отображается в базе данных.

.. contents:: В этой статье:
    :depth: 3

Соглашения
---------------

По соглашению, наследование будет отображаться с использованием шаблона таблицы-в-иерархии (TPH). TPH использует простую таблицу для сохранения всех даных для всех типов в иерархии. Дискриминатор столбца используется для идентификации, какой тип представляет каждая строка.

EF будет устанавивать наследование, только если два или более унаследованных типов явно включены в модель (более детально смотрите :doc:`/modeling/inheritance`).

Ниже пример, показывающий сценарий простого наследования, и сохранения данных в таблице базы данных, используя шаблон TPH. Столбец `Discriminator` определяет, какой тип `Blog` в какой строке сохранен.

.. includesamplefile:: Modeling/Conventions/Samples/InheritanceDbSets.cs
        :language: c#
        :lines: 5-20
        :linenos:

.. image:: _static/inheritance-tph-data.png

Аннотации данных
------------------------

Вы не можете использовать Аннотации данных для настройки наследования.

Fluent API
-------------------

Вы можете использовать Fluent API для настройки имени и типа столбца дискриминатора, и значений, которые используются для идентификации каждого типа в иерархии.

.. includesamplefile:: Modeling/FluentAPI/Samples/InheritanceTPHDiscriminator.cs
        :language: c#
        :lines: 5-27
        :emphasize-lines: 7-10
        :linenos:
