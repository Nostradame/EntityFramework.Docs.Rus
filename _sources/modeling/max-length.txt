Максимальная длина
==================

Настройка максимальной длины дает подсказку хранилищу данных о соответствующем типе данных, чтобы использовать её для данного свойства. Максимальная длина применяется только для данных типа массив, таких как ``string`` и ``byte[]``.

.. note::
    Entity Framework не выполняет проверку максимальной длины перед передачей данных провайдеру. Проверка остается за провайдером или хранилищем данных, если это будет необходимо. Например, когда выбран  SQL сервер, превышение максимальной длины приведет к исключению, так как тип данных соответствующего столбца не позволит внести избыточные данные, которые должны быть сохранены.

.. contents:: В этой статье:
    :depth: 3

Соглашения
----------

По соглашению, выбор подходящего типа данных для свойства остается за провайдером базы данных. Для свойств, у которых есть длина, провайдер базы данных, как правило, выбирает тип данных, который позволяет наибольшую длину. Например, Microsoft SQL Server для свойства ``string`` будет использовать ``nvarchar(max)`` (или ``nvarchar(450)`` если столбец используется как ключевой).

Аннотации данных
----------------

Вы можете использовать аннотации данных для настройки максимальной длины свойства. В этом примере, выбор SQL Server приведет к тому, что будет использоваться тип данных ``nvarchar(500)``.

.. includesamplefile:: Modeling/DataAnnotations/Samples/MaxLength.cs
        :language: c#
        :lines: 11-16
        :emphasize-lines: 4
        :linenos:

Fluent API
----------

Вы можете использовать Fluent API для настройки максимальной длины свойства. В этом примере, выбор SQL Server приведет к тому, что будет использоваться тип данных ``nvarchar(500)``.

.. includesamplefile:: Modeling/FluentAPI/Samples/MaxLength.cs
        :language: c#
        :lines: 5-21
        :emphasize-lines: 7-9
        :linenos:
