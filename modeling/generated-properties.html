

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Генерирование свойств &mdash; Документация Entity Framework Core 1.0.0</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
    <link rel="top" title="Документация Entity Framework Core 1.0.0" href="../index.html"/>
        <link rel="up" title="Создание модели" href="index.html"/>
        <link rel="next" title="Обязательные/необязательные свойства" href="required-optional.html"/>
        <link rel="prev" title="Ключи (первичные)" href="keys.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Entity Framework Core
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Entity Framework Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../platforms/index.html">Приступая к работе</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Создание модели</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="included-types.html">Включение &amp; исключение типов</a></li>
<li class="toctree-l2"><a class="reference internal" href="included-properties.html">Включение &amp; исключение свойств</a></li>
<li class="toctree-l2"><a class="reference internal" href="keys.html">Ключи (первичные)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Генерирование свойств</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="required-optional.html">Обязательные/необязательные свойства</a></li>
<li class="toctree-l2"><a class="reference internal" href="max-length.html">Максимальная длина</a></li>
<li class="toctree-l2"><a class="reference internal" href="concurrency.html">Маркеры параллелизма (Concurrency Tokens)</a></li>
<li class="toctree-l2"><a class="reference internal" href="shadow-properties.html">Скрытые свойства</a></li>
<li class="toctree-l2"><a class="reference internal" href="relationships.html">Отношения</a></li>
<li class="toctree-l2"><a class="reference internal" href="indexes.html">Индексы</a></li>
<li class="toctree-l2"><a class="reference internal" href="alternate-keys.html">Альтернативные ключи</a></li>
<li class="toctree-l2"><a class="reference internal" href="inheritance.html">Наследование</a></li>
<li class="toctree-l2"><a class="reference internal" href="backing-field.html">Резервные поля</a></li>
<li class="toctree-l2"><a class="reference internal" href="relational/index.html">Моделирование Реляционной базы данных</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../querying/index.html">Запрос данных</a></li>
<li class="toctree-l1"><a class="reference internal" href="../saving/index.html">Сохранение данных</a></li>
<li class="toctree-l1"><a class="reference internal" href="../efcore-vs-ef6/index.html">EF Core vs. EF6.x</a></li>
<li class="toctree-l1"><a class="reference internal" href="../providers/index.html">Провайдеры баз данных</a></li>
<li class="toctree-l1"><a class="reference internal" href="../miscellaneous/index.html">Разное</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Entity Framework Core</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Создание модели</a> &raquo;</li>
      
    <li>Генерирование свойств</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="admonition attention">
<p class="first admonition-title">Внимание</p>
<p class="last">Эта документация для EF Core. Для EF6.x и более ранних версий смотрите <a class="reference external" href="http://msdn.com/data/ef">http://msdn.com/data/ef</a>.</p>
</div>
<div class="section" id="id1">
<h1><a class="toc-backref" href="#id15">Генерирование свойств</a><a class="headerlink" href="#id1" title="Ссылка на этот заголовок">¶</a></h1>
<div class="contents topic" id="id2">
<p class="topic-title first">В этой статье:</p>
<ul class="simple">
<li><a class="reference internal" href="#id1" id="id15">Генерирование свойств</a><ul>
<li><a class="reference internal" href="#id3" id="id16">Модели генерирования значений</a><ul>
<li><a class="reference internal" href="#id4" id="id17">Без генерирования значения</a></li>
<li><a class="reference internal" href="#id5" id="id18">Генерирование значения в момент добавления</a></li>
<li><a class="reference internal" href="#id6" id="id19">Генерирование значения в момент добавления или обновления</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id7" id="id20">Соглашения</a></li>
<li><a class="reference internal" href="#id8" id="id21">Аннотации данных</a><ul>
<li><a class="reference internal" href="#id9" id="id22">Без генерирования значения (Аннотации данных)</a></li>
<li><a class="reference internal" href="#id10" id="id23">Генерирование значения в момент добавления (Аннотации данных)</a></li>
<li><a class="reference internal" href="#id11" id="id24">Генерирование значения в момент добавления или обновления (Аннотации данных)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#fluent-api" id="id25">Fluent API</a><ul>
<li><a class="reference internal" href="#id12" id="id26">Без генерирования значения (Fluent API)</a></li>
<li><a class="reference internal" href="#id13" id="id27">Генерирование значения в момент добавления (Fluent API)</a></li>
<li><a class="reference internal" href="#id14" id="id28">Генерирование значения в момент добавления или обновления (Fluent API)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id3">
<h2><a class="toc-backref" href="#id16">Модели генерирования значений</a><a class="headerlink" href="#id3" title="Ссылка на этот заголовок">¶</a></h2>
<p>Есть три модели генерирования значений, которые могут быть использованы для свойств.</p>
<div class="section" id="id4">
<h3><a class="toc-backref" href="#id17">Без генерирования значения</a><a class="headerlink" href="#id4" title="Ссылка на этот заголовок">¶</a></h3>
<p>Без генерирования значения означает, что вы всегда будете предоставлять действительное значение, которое будет сохранено в базе данных. Это действительное значение должно быть назначено новым сущностям, прежде чем они будут добавлены в контекст.</p>
</div>
<div class="section" id="id5">
<h3><a class="toc-backref" href="#id18">Генерирование значения в момент добавления</a><a class="headerlink" href="#id5" title="Ссылка на этот заголовок">¶</a></h3>
<p><strong>Генерирование значения в момент добавления</strong> означает, что значение генерируется для новых сущностей.</p>
<div class="admonition attention">
<p class="first admonition-title">Внимание</p>
<p>Как именно значение генерируется для добавленных сущностей - будет зависеть от того, какой используется провайдер базы данных. Провайдеры баз данных могут автоматически настраивать генерирование значений для некоторых типов свойств, но некоторые могут потребовать от вас настройки генерирования значений вручную.</p>
<p class="last">Например, при использовании SQL Server, будут автоматически генерироваться значения для свойства <cite>GUID</cite> (при помощи последовательного алгоритма GUID SQL Server ). Однако, если вы определили, что свойство <cite>DateTime</cite> генерируется в момент добавления, то вы можете установить метод генерируемого значения (как настроить SQL значение по умолчанию <cite>GETDATE()</cite>, смотрите <a class="reference internal" href="relational/default-values.html"><span class="doc">Значения по-умолчанию</span></a>).</p>
</div>
<p>Если вы добавляете в контекст сущность, у которой есть свойство, определенное как первичный ключ, то EF будет пытаться вставить это значение, а не генерировать новое. Считается, что у свойства есть назначенное значение, если оно не является назначенным по умолчанию CLR (<code class="docutils literal"><span class="pre">null</span></code> для <code class="docutils literal"><span class="pre">string</span></code>, <code class="docutils literal"><span class="pre">0</span></code> для <code class="docutils literal"><span class="pre">int</span></code>, <code class="docutils literal"><span class="pre">Guid.Empty</span></code> для <code class="docutils literal"><span class="pre">Guid</span></code>, и т.д.).</p>
<p>В зависимости от используемого провайдера базы данных, EF может генерировать значения на стороне клиента или в базе данных. Если значение генерируется в базе данных, то когда вы добавляете сущность в контекст, EF может устанавливать временное значение. Затем это временное значение будет заменено базой данных на сгенерированное значение во время выполнения <code class="docutils literal"><span class="pre">SaveChanges</span></code>.</p>
</div>
<div class="section" id="id6">
<h3><a class="toc-backref" href="#id19">Генерирование значения в момент добавления или обновления</a><a class="headerlink" href="#id6" title="Ссылка на этот заголовок">¶</a></h3>
<p><strong>Генерирование значения в момент добавления или обновления</strong> означает, что новое значение генерируется каждый раз, когда запись сохраняется (вставляется или обновляется).</p>
<div class="admonition attention">
<p class="first admonition-title">Внимание</p>
<p>Как значение генерируется для добавленных и обновленных сущностей будет зависеть от используемого провайдера базы данных. Провайдеры баз данных могут автоматически устанавливать генерирование значений для некоторых типов свойств, но некоторые требуют чтобы вы вручную настраивали как генерируются значения.</p>
<p class="last">Например, если используется SQL Server, свойство <cite>byte[]</cite> которое установлено в момент добавления или обновления и отмечено как маркер параллелизма, будет настроено как тип данных <cite>rowversion</cite> - таким образом, это значение будет генерироваться в базе данных. Однако, если вы определили, что свойство <cite>DateTime</cite> генерируется в момент добавления или обновления, то вы должны настроить метод, при помощи которого будут генерироваться значения (такой как триггер базы данных).</p>
</div>
<p>Так же как и при <strong>генерировании значения в момент добавления</strong>, если вы определили значение для свойства вновь добавленного экземпляра сущности, то значение будет вставлено раньше, чем сгенерировано. Кроме того, если вы явно измените значение, назначенное свойству (таким образом помечая его как модифицированное), то это новое значение будет занесено в базу данных раньше, чем сгенерированное ранее значение.</p>
</div>
</div>
<div class="section" id="id7">
<h2><a class="toc-backref" href="#id20">Соглашения</a><a class="headerlink" href="#id7" title="Ссылка на этот заголовок">¶</a></h2>
<p>По соглашению, первичный ключ с типом данных integer или GUID будет настроен на получение значения в момент добавления. Все другие свойства получат настройку значения без генерирования.</p>
</div>
<div class="section" id="id8">
<h2><a class="toc-backref" href="#id21">Аннотации данных</a><a class="headerlink" href="#id8" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id9">
<h3><a class="toc-backref" href="#id22">Без генерирования значения (Аннотации данных)</a><a class="headerlink" href="#id9" title="Ссылка на этот заголовок">¶</a></h3>
<div class="highlight-c#"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="k">public</span> <span class="k">class</span> <span class="nc">Blog</span>
    <span class="p">{</span>
<span class="hll"><span class="na">        [DatabaseGenerated(DatabaseGeneratedOption.None)]</span>
</span>        <span class="k">public</span> <span class="kt">int</span> <span class="n">BlogId</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">Url</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="id10">
<h3><a class="toc-backref" href="#id23">Генерирование значения в момент добавления (Аннотации данных)</a><a class="headerlink" href="#id10" title="Ссылка на этот заголовок">¶</a></h3>
<div class="highlight-c#"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="k">public</span> <span class="k">class</span> <span class="nc">Blog</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="kt">int</span> <span class="n">BlogId</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">Url</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="hll"><span class="na">        [DatabaseGenerated(DatabaseGeneratedOption.Identity)]</span>
</span>        <span class="k">public</span> <span class="n">DateTime</span> <span class="n">Inserted</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="admonition attention">
<p class="first admonition-title">Внимание</p>
<p class="last">Это просто позволяет EF знать, что значения генерируются для добавленных сущностей, это не гарантирует, что для генерации значений EF будет использовать актуальный механизм. Более подробнее смотрите раздел <a class="reference internal" href="#id5">Генерирование значения в момент добавления</a>.</p>
</div>
</div>
<div class="section" id="id11">
<h3><a class="toc-backref" href="#id24">Генерирование значения в момент добавления или обновления (Аннотации данных)</a><a class="headerlink" href="#id11" title="Ссылка на этот заголовок">¶</a></h3>
<div class="highlight-c#"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="k">public</span> <span class="k">class</span> <span class="nc">Blog</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="kt">int</span> <span class="n">BlogId</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">Url</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="hll"><span class="na">        [DatabaseGenerated(DatabaseGeneratedOption.Computed)]</span>
</span>        <span class="k">public</span> <span class="n">DateTime</span> <span class="n">LastUpdated</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="admonition attention">
<p class="first admonition-title">Внимание</p>
<p class="last">Это просто позволяет EF знать, что значения генерируются для добавленных или обновленных сущностей, это не гарантирует, что для генерации значений EF будет использовать актуальный механизм. Более подробнее смотрите раздел <a class="reference internal" href="#id6">Генерирование значения в момент добавления или обновления</a>.</p>
</div>
</div>
</div>
<div class="section" id="fluent-api">
<h2><a class="toc-backref" href="#id25">Fluent API</a><a class="headerlink" href="#fluent-api" title="Ссылка на этот заголовок">¶</a></h2>
<p>Вы можете использовать Fluent API чтобы изменить шаблон генерирования значения  для текущего свойства.</p>
<div class="section" id="id12">
<h3><a class="toc-backref" href="#id26">Без генерирования значения (Fluent API)</a><a class="headerlink" href="#id12" title="Ссылка на этот заголовок">¶</a></h3>
<div class="highlight-c#"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="k">class</span> <span class="nc">MyContext</span> <span class="p">:</span> <span class="n">DbContext</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="n">DbSet</span><span class="p">&lt;</span><span class="n">Blog</span><span class="p">&gt;</span> <span class="n">Blogs</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

        <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnModelCreating</span><span class="p">(</span><span class="n">ModelBuilder</span> <span class="n">modelBuilder</span><span class="p">)</span>
        <span class="p">{</span>
<span class="hll">            <span class="n">modelBuilder</span><span class="p">.</span><span class="n">Entity</span><span class="p">&lt;</span><span class="n">Blog</span><span class="p">&gt;()</span>
</span><span class="hll">                <span class="p">.</span><span class="n">Property</span><span class="p">(</span><span class="n">b</span> <span class="p">=&gt;</span> <span class="n">b</span><span class="p">.</span><span class="n">BlogId</span><span class="p">)</span>
</span><span class="hll">                <span class="p">.</span><span class="n">ValueGeneratedNever</span><span class="p">();</span>
</span>        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">Blog</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="kt">int</span> <span class="n">BlogId</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">Url</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="id13">
<h3><a class="toc-backref" href="#id27">Генерирование значения в момент добавления (Fluent API)</a><a class="headerlink" href="#id13" title="Ссылка на этот заголовок">¶</a></h3>
<div class="highlight-c#"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="k">class</span> <span class="nc">MyContext</span> <span class="p">:</span> <span class="n">DbContext</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="n">DbSet</span><span class="p">&lt;</span><span class="n">Blog</span><span class="p">&gt;</span> <span class="n">Blogs</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

        <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnModelCreating</span><span class="p">(</span><span class="n">ModelBuilder</span> <span class="n">modelBuilder</span><span class="p">)</span>
        <span class="p">{</span>
<span class="hll">            <span class="n">modelBuilder</span><span class="p">.</span><span class="n">Entity</span><span class="p">&lt;</span><span class="n">Blog</span><span class="p">&gt;()</span>
</span><span class="hll">                <span class="p">.</span><span class="n">Property</span><span class="p">(</span><span class="n">b</span> <span class="p">=&gt;</span> <span class="n">b</span><span class="p">.</span><span class="n">Inserted</span><span class="p">)</span>
</span><span class="hll">                <span class="p">.</span><span class="n">ValueGeneratedOnAdd</span><span class="p">();</span>
</span>        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">Blog</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="kt">int</span> <span class="n">BlogId</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">Url</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="n">DateTime</span> <span class="n">Inserted</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="admonition attention">
<p class="first admonition-title">Внимание</p>
<p class="last">Это просто позволяет EF знать, что значения генерируются для добавленных сущностей, это не гарантирует, что для генерации значений EF будет использовать актуальный механизм. Более подробнее смотрите раздел <a class="reference internal" href="#id5">Генерирование значения в момент добавления</a>.</p>
</div>
</div>
<div class="section" id="id14">
<h3><a class="toc-backref" href="#id28">Генерирование значения в момент добавления или обновления (Fluent API)</a><a class="headerlink" href="#id14" title="Ссылка на этот заголовок">¶</a></h3>
<div class="highlight-c#"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="k">class</span> <span class="nc">MyContext</span> <span class="p">:</span> <span class="n">DbContext</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="n">DbSet</span><span class="p">&lt;</span><span class="n">Blog</span><span class="p">&gt;</span> <span class="n">Blogs</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

        <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnModelCreating</span><span class="p">(</span><span class="n">ModelBuilder</span> <span class="n">modelBuilder</span><span class="p">)</span>
        <span class="p">{</span>
<span class="hll">            <span class="n">modelBuilder</span><span class="p">.</span><span class="n">Entity</span><span class="p">&lt;</span><span class="n">Blog</span><span class="p">&gt;()</span>
</span><span class="hll">                <span class="p">.</span><span class="n">Property</span><span class="p">(</span><span class="n">b</span> <span class="p">=&gt;</span> <span class="n">b</span><span class="p">.</span><span class="n">LastUpdated</span><span class="p">)</span>
</span><span class="hll">                <span class="p">.</span><span class="n">ValueGeneratedOnAddOrUpdate</span><span class="p">();</span>
</span>        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">Blog</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="kt">int</span> <span class="n">BlogId</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">Url</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="n">DateTime</span> <span class="n">LastUpdated</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="admonition attention">
<p class="first admonition-title">Внимание</p>
<p class="last">Это просто позволяет EF знать, что значения генерируются для добавленных или обновленных сущностей, это не гарантирует, что для генерации значений EF будет использовать актуальный механизм. Более подробнее смотрите раздел <a class="reference internal" href="#id6">Генерирование значения в момент добавления или обновления</a>.</p>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="required-optional.html" class="btn btn-neutral float-right" title="Обязательные/необязательные свойства" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="keys.html" class="btn btn-neutral" title="Ключи (первичные)" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016 Microsoft.
      Обновлено: июл. 18, 2016.

    </p>
  </div> Документация лицензирована под <a href="https://creativecommons.org/licenses/by-nc/3.0/">CC BY-NC 3.0</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/wedc.js"></script>
      <script type="text/javascript" src="../_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>